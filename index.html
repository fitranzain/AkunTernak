<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AkunTernak</title>
  <link rel="icon" href="images/icon-akunternak.png" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
  <style>
    :root {
      --primary: #059669;     /* hijau emerald */
      --accent: #F59E0B;      /* oranye lembut */
      --background: #F3F4F6;  /* abu muda */
      --text-main: #1F2937;   /* abu gelap */
    }
    body {
      scroll-behavior: smooth;
      background-color: var(--background);
      color: var(--text-main);
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    /* Navbar */
    .navbar {
      position: sticky; top: 0; z-index: 1020;
      background-color: #ffffff !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .navbar-brand img { height: 50px; }
    .navbar .nav-link {
      color: var(--text-main);
      font-weight: 500;
      transition: color .3s;
    }
    .navbar .nav-link:hover {
      color: var(--primary);
    }
    /* Hero */
.hero {
  padding: 100px 0; /* bukan 100vh lagi */
  background: linear-gradient(to right, rgba(5,150,105,0.05), rgba(5,150,105,0.1));
}

.hero h1 {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--primary);
}

.hero p {
  font-size: 1.15rem;
  color: var(--text-main);
  max-width: 500px;
}

.hero img {
  max-width: 85%;
  transition: transform .3s ease;
}

.hero img:hover {
  transform: scale(1.05);
}
    /* Ikon */
    .icon-hover i {
      transition: transform .3s, color .3s;
      color: var(--primary);
    }
    .icon-hover:hover i {
      transform: scale(1.2);
      color: var(--accent);
    }
    /* Kartu */
    .card {
      border: none;
      transition: transform .3s ease, box-shadow .3s ease;
      background-color: #fff;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,.08);
    }
    /* Tombol */
    .btn-primary {
      background-color: var(--primary);
      border: none;
    }
    .btn-primary:hover {
      background-color: var(--accent);
      color: #fff;
    }
    footer {
      background-color: var(--primary);
      color: #fff;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="images/akunternak.png" alt="AkunTernak Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#hero">Beranda</a></li>
          <li class="nav-item"><a class="nav-link" href="#layanan">Layanan</a></li>
          <li class="nav-item"><a class="nav-link" href="#artikel">Artikel</a></li>
          <li class="nav-item"><a class="nav-link" href="#kontak">Kontak</a></li>
        </ul>
      </div>
    </div>
  </nav>

<!-- Hero -->
<section id="hero" class="hero">
  <div class="container">
    <div class="row align-items-center">
      <!-- Kolom Teks -->
      <div class="col-md-6 text-center text-md-start" data-aos="fade-right">
        <h1 class="fw-bold mb-3">AkunTernak</h1>
        <p class="lead mb-4">Berbagi kegiatan dunia peternakan dari sudut pandang keuangan.</p>
        <a href="https://fitranzain.github.io/AkunTernak/artikel.html?file=Prolog.md" class="btn btn-primary btn-lg fw-bold">
  Kenalan yuk!
</a>
      </div>
      <!-- Kolom Gambar -->
      <div class="col-md-6 text-center" data-aos="fade-left">
        <img src="images/herosection4.png" alt="Ilustrasi Peternakan" class="img-fluid rounded shadow">
      </div>
    </div>
  </div>
</section>

<!-- Artikel -->
<section id="artikel" class="py-5" style="background-color: var(--background);">
  <div class="container">
    <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">Tulisan Terbaru</h2>
    <div class="row g-4" id="artikelList">
      <!-- Card artikel akan dimuat otomatis lewat JavaScript -->
    </div>
  </div>
</section>

<script>
  fetch('posts.json')
    .then(res => res.json())
    .then(posts => {
      // Urutkan dari yang paling baru (tanggal paling besar ke kecil)
      posts.sort((a, b) => new Date(b.date) - new Date(a.date));
      const container = document.getElementById('artikelList');
      posts.forEach((post, index) => {
        const col = document.createElement('div');
        col.className = 'col-md-4';
        col.setAttribute('data-aos', 'fade-up');
        if (index > 0) {
          col.setAttribute('data-aos-delay', index * 150);
        }
        col.innerHTML = `
          <div class="card h-100 shadow-sm">
            <img src="images/${post.image}" class="card-img-top" alt="${post.title}">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">${post.title}</h5>
              <p class="card-text">${post.excerpt}</p>
              <a href="artikel.html?file=${encodeURIComponent(post.file)}" class="btn btn-primary mt-auto">Baca Selengkapnya</a>
            </div>
          </div>
        `;
        container.appendChild(col);
      });
    })
    .catch(err => {
      console.error(err);
      document.getElementById('artikelList').innerHTML =
        '<p class="text-danger text-center">Gagal memuat daftar artikel.</p>';
    });
</script>

<!-- Section Media (YouTube) -->
<section id="media" class="py-5">
  <div class="container">
    <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">Media Sosial</h2>
    <div class="row justify-content-center">
      <div class="col-md-6" data-aos="fade-up">
        <div class="card h-100 shadow-sm">
          <img id="youtube-thumb" src="images/placeholder.jpg" class="card-img-top" alt="YouTube Thumbnail">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">YouTube</h5>
            <p class="card-text">Video terbaru dari channel saya.</p>
            <a id="youtube-link" href="#" target="_blank" class="btn btn-primary mt-auto">Tonton</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
// Ganti dengan API_KEY dan CHANNEL_ID YouTube-mu
const API_KEY = "AIzaSyBnKDZs3alh3xKXCQ9WwGhFyDpPzT2JXLQ";  
const CHANNEL_ID = "UCbxdEvrQQDlhBZR7BglBWAQ";

fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&order=date&part=snippet&type=video&maxResults=1`)
  .then(res => res.json())
  .then(data => {
    if (data.items && data.items.length > 0) {
      const video = data.items[0];
      const videoId = video.id.videoId;
      const thumb = video.snippet.thumbnails.high.url;

      document.getElementById("youtube-thumb").src = thumb;
      document.getElementById("youtube-link").href = `https://www.youtube.com/watch?v=${videoId}`;
    }
  })
  .catch(err => console.error("Gagal ambil video YouTube:", err));
</script>


<!-- Section Kontak -->
<section id="kontak" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-4">Kontak Saya</h2>
    <div class="row justify-content-center">
      <div class="col-md-8">

        <!-- Alert sukses & error -->
        <div id="alert-success" class="alert alert-success d-none" role="alert">
          ✅ Pesan berhasil dikirim!
        </div>
        <div id="alert-error" class="alert alert-danger d-none" role="alert">
          ❌ Terjadi kesalahan. Coba lagi nanti.
        </div>

        <form id="contact-form" action="https://formspree.io/f/mandajzl" method="POST">
          <div class="mb-3">
            <label for="nama" class="form-label">Nama</label>
            <input type="text" class="form-control" id="nama" name="nama" required>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="_replyto" required>
          </div>
          <div class="mb-3">
            <label for="pesan" class="form-label">Pesan</label>
            <textarea class="form-control" id="pesan" name="pesan" rows="5" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Kirim</button>
        </form>

      </div>
    </div>
  </div>
</section>

<!-- Script untuk handle submit -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("contact-form");
  const successAlert = document.getElementById("alert-success");
  const errorAlert = document.getElementById("alert-error");

  form.addEventListener("submit", async function (e) {
    e.preventDefault();
    const formData = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: "POST",
        body: formData,
        headers: { "Accept": "application/json" }
      });

      if (response.ok) {
        successAlert.classList.remove("d-none");
        errorAlert.classList.add("d-none");
        form.reset();
      } else {
        throw new Error("Network response was not ok");
      }
    } catch (error) {
      successAlert.classList.add("d-none");
      errorAlert.classList.remove("d-none");
    }
  });
});
</script>

  <!-- Footer -->
  <footer class="text-center py-4">
    <p class="mb-0">&copy; 2025 AkunTernak | Design by masfitran</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    AOS.init({ duration: 1000, once: true });
  </script>
</body>
</html>
